{"version":3,"file":"public.js","mappings":"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","sources":["webpack://thlogin/./src/public/styles/frontend.scss?a946","webpack://thlogin/webpack/bootstrap","webpack://thlogin/webpack/runtime/make namespace object","webpack://thlogin/./src/public/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './styles/frontend.scss';\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    // Load reCAPTCHA script if enabled\r\n    if (thLoginFrontendData.settings.security?.recaptcha?.enabled) {\r\n        const recaptchaType = thLoginFrontendData.settings.security.recaptcha.type;\r\n        const siteKey = thLoginFrontendData.settings.security.recaptcha.site_key;\r\n        \r\n        const script = document.createElement('script');\r\n        script.src = `https://www.google.com/recaptcha/api.js?render=${siteKey}`;\r\n        script.async = true;\r\n        script.defer = true;\r\n        document.head.appendChild(script);\r\n    }\r\n\r\n    // --- Elements ---\r\n    const modal = document.getElementById('thlogin-popup-modal');\r\n    if (!modal) return;\r\n\r\n    const formContainer = modal.querySelector('.thlogin-popup-form-container');\r\n\r\n    const loginForm = modal.querySelector('[data-form-type=\"login\"]');\r\n    const registerForm = modal.querySelector('[data-form-type=\"register\"]');\r\n    const forgotPasswordForm = modal.querySelector('[data-form-type=\"forgot-password\"]');\r\n\r\n    const triggerSelector = `.${thLoginFrontendData.settings.display_triggers.trigger_css_class}, [data-th-popup-action]`;\r\n    const displayTriggers = thLoginFrontendData.settings.display_triggers;\r\n    const generalSettings = thLoginFrontendData.settings.general;\r\n    const isUserLoggedIn = thLoginFrontendData.isUserLoggedIn;\r\n    const currentUserRoles = thLoginFrontendData.currentUserRoles || [];\r\n    const display_type = generalSettings.display_mode || 'popup';\r\n\r\n    // --- Variables ---\r\n    let animationEndHandler = null;\r\n\r\n    // --- Functions ---\r\n\r\n    const setActiveForm = (type) => {\r\n        [loginForm, registerForm, forgotPasswordForm].forEach(form => {\r\n            if (!form) return;\r\n            if (form.closest('#thlogin-popup-modal')) {\r\n                if (form.dataset.formType === type) {\r\n                    form.style.display = 'block';\r\n                    form.classList.add('thlogin-form--active');\r\n                } else {\r\n                    form.style.display = 'none';\r\n                    form.classList.remove('thlogin-form--active');\r\n                }\r\n            }\r\n        });\r\n        if (formContainer) formContainer.dataset.activeForm = type;\r\n    };\r\n\r\n    const showMessage = (formElement, message, type) => {\r\n        const container = formElement.querySelector('.thlogin-messages');\r\n        if (!container) return;\r\n        container.innerHTML = `<p class=\"thlogin-message thlogin-message--${type}\">${message}</p>`;\r\n        container.style.display = 'block';\r\n        setTimeout(() => {\r\n            container.innerHTML = '';\r\n            container.style.display = 'none';\r\n        }, 5000);\r\n    };\r\n\r\n    const canAutoOpenModal = () => {\r\n        if (thLoginFrontendData.hasShortcode) return false;\r\n        if (isUserLoggedIn && displayTriggers.auto_open_conditions.for_logged_out_only) return false;   \r\n\r\n        const specificRoles = displayTriggers.auto_open_conditions.for_specific_roles || [];\r\n        if (specificRoles.length && !currentUserRoles.some(role => specificRoles.includes(role))) return false;\r\n\r\n        const deviceVisibility = displayTriggers.auto_open_conditions.device_visibility;\r\n        const w = window.innerWidth;\r\n        const isMobile = w <= 768;\r\n        const isTablet = w > 768 && w <= 1024;\r\n        const isDesktop = w > 1024;\r\n\r\n        if ((isMobile && !deviceVisibility.mobile) ||\r\n            (isTablet && !deviceVisibility.tablet) ||\r\n            (isDesktop && !deviceVisibility.desktop)) return false;\r\n\r\n        if (displayTriggers.pop_up_frequency?.enabled) {\r\n            const lastShown = localStorage.getItem('thlogin_last_shown');\r\n            const now = Date.now();\r\n\r\n            if (displayTriggers.pop_up_frequency.type === 'session' && sessionStorage.getItem('thlogin_session_shown')) {\r\n                return false;\r\n            }\r\n\r\n            if (displayTriggers.pop_up_frequency.type === 'days' && lastShown) {\r\n                const daysPassed = (now - parseInt(lastShown, 10)) / (1000 * 60 * 60 * 24);\r\n                if (daysPassed < displayTriggers.pop_up_frequency.days) return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    };\r\n\r\n    const canManualOpenModal = () => {\r\n        if (thLoginFrontendData.hasShortcode) return false;\r\n\r\n        if (isUserLoggedIn && displayTriggers.auto_open_conditions.for_logged_out_only) return false;\r\n\r\n        const specificRoles = displayTriggers.auto_open_conditions.for_specific_roles || [];\r\n        if (specificRoles.length && !currentUserRoles.some(role => specificRoles.includes(role))) return false;\r\n\r\n        const deviceVisibility = displayTriggers.auto_open_conditions.device_visibility;\r\n        const w = window.innerWidth;\r\n        const isMobile = w <= 768;\r\n        const isTablet = w > 768 && w <= 1024;\r\n        const isDesktop = w > 1024;\r\n\r\n        return !(\r\n            (isMobile && !deviceVisibility.mobile) ||\r\n            (isTablet && !deviceVisibility.tablet) ||\r\n            (isDesktop && !deviceVisibility.desktop)\r\n        );\r\n    };\r\n\r\n    const recordPopupShown = () => {\r\n        if (displayTriggers.pop_up_frequency?.enabled) {\r\n            localStorage.setItem('thlogin_last_shown', Date.now().toString());\r\n            sessionStorage.setItem('thlogin_session_shown', 'true');\r\n        }\r\n    };\r\n\r\n    const openModal = (formType = 'login') => {\r\n        if (!modal) return;\r\n\r\n        modal.classList.remove(\r\n            'thlogin-popup-modal-effect',\r\n            'thlogin-slide-in-left',\r\n            'thlogin-slide-in-right',\r\n            'thlogin-page',\r\n            'thlogin-popup-modal--closing',\r\n            'thlogin-popup-modal--active'\r\n        );\r\n        modal.classList.add('thlogin-popup-modal--opening');\r\n        modal.style.display = 'flex';\r\n        modal.setAttribute('aria-hidden', 'false');\r\n\r\n        if (display_type === 'slide_in_left') {\r\n            modal.classList.add('thlogin-slide-in-left');\r\n        } else if (display_type === 'slide_in_right') {\r\n            modal.classList.add('thlogin-slide-in-right');\r\n        } else if(display_type === 'page'){\r\n            modal.classList.add('thlogin-page');\r\n        }else{\r\n            modal.classList.add('thlogin-popup-modal-effect');\r\n        }\r\n\r\n        setActiveForm(formType);\r\n\r\n        setTimeout(() => {\r\n            modal.classList.add('thlogin-popup-modal--active');\r\n        }, 50);\r\n\r\n        recordPopupShown();\r\n\r\n        if (animationEndHandler) {\r\n            modal.removeEventListener('animationend', animationEndHandler);\r\n            animationEndHandler = null;\r\n        }\r\n    };\r\n\r\n    const closeModal = () => {\r\n        if (!modal) return;\r\n\r\n        modal.classList.remove('thlogin-popup-modal--opening');\r\n        modal.classList.add('thlogin-popup-modal--closing');\r\n        modal.classList.remove('thlogin-slide-in-left', 'thlogin-slide-in-right', 'thlogin-page', 'thlogin-popup-modal-effect');\r\n        modal.setAttribute('aria-hidden', 'true');\r\n\r\n        animationEndHandler = function handler() {\r\n            if (modal.classList.contains('thlogin-popup-modal--closing')) {\r\n                modal.style.display = 'none';\r\n                modal.classList.remove('thlogin-popup-modal--active', 'thlogin-popup-modal--closing');\r\n            }\r\n            modal.removeEventListener('animationend', animationEndHandler);\r\n            animationEndHandler = null;\r\n        };\r\n        modal.addEventListener('animationend', animationEndHandler);\r\n    };\r\n\r\n    // --- Event Delegation for clicks on body ---\r\n\r\n    document.body.addEventListener('click', e => {\r\n        // Close modal: overlay or close button\r\n        if (e.target.closest('.thlogin-popup-close-button') || e.target.closest('.thlogin-popup-overlay')) {\r\n            closeModal();\r\n        }\r\n        // Open modal via trigger elements\r\n        else if (e.target.closest(triggerSelector)) {\r\n            e.preventDefault();\r\n            const trigger = e.target.closest(triggerSelector);\r\n            const formType = trigger.dataset.thPopupAction || 'login';\r\n            // if (canShowModal()) openModal(formType);\r\n\r\n              if (canManualOpenModal()) openModal(formType);\r\n\r\n        }\r\n        // Switch forms inside modal via links/buttons with data attribute\r\n        else if (modal && modal.contains(e.target)) {\r\n            const actionType = e.target.dataset.thPopupAction;\r\n            if (['login', 'register', 'forgot-password'].includes(actionType)) {\r\n                e.preventDefault();\r\n                setActiveForm(actionType);\r\n            }\r\n        }\r\n    });\r\n\r\n    // Close modal on ESC key\r\n    document.addEventListener('keydown', e => {\r\n        if (e.key === 'Escape' && modal.getAttribute('aria-hidden') === 'false') {\r\n            closeModal();\r\n        }\r\n    });\r\n\r\n    // --- Form Submission Handling ---\r\n    document.querySelectorAll('.thlogin-ajax-form').forEach(form => {\r\n        form.addEventListener('submit', async e => {\r\n            e.preventDefault();\r\n\r\n             // Handle reCAPTCHA v3 if enabled\r\n            if (thLoginFrontendData.settings.security?.recaptcha?.enabled && \r\n                thLoginFrontendData.settings.security.recaptcha.type === 'v3') {\r\n                \r\n                try {\r\n                    // Ensure grecaptcha is loaded\r\n                    if (typeof grecaptcha === 'undefined') {\r\n                        showMessage(form, 'Security verification is loading. Please wait...', 'error');\r\n                        return;\r\n                    }\r\n                    \r\n                    // Execute reCAPTCHA v3\r\n                    const token = await grecaptcha.execute(\r\n                        thLoginFrontendData.settings.security.recaptcha.site_key, \r\n                        {action: 'login'}\r\n                    );\r\n                    \r\n                    // Add token to form data\r\n                    let tokenField = form.querySelector('input[name=\"g-recaptcha-response\"]');\r\n\r\n                    if (!tokenField) {\r\n                        tokenField = document.createElement('input');\r\n                        tokenField.type = 'hidden';\r\n                        tokenField.name = 'g-recaptcha-response';\r\n                        form.appendChild(tokenField);\r\n                    }\r\n                    tokenField.value = token;\r\n                    \r\n                } catch (error) {\r\n                    showMessage(form, 'Security verification failed. Please try again.', 'error');\r\n                    console.error('reCAPTCHA v3 error:', error);\r\n\r\n                    // 🔁 Reset reCAPTCHA v2 on fetch error\r\n                    if (\r\n                        typeof grecaptcha !== 'undefined' &&\r\n                        thLoginFrontendData.settings.security?.recaptcha?.enabled &&\r\n                        thLoginFrontendData.settings.security.recaptcha.type === 'v2_checkbox'\r\n                    ) {\r\n                        grecaptcha.reset();\r\n                    }\r\n                    \r\n                    return;\r\n                }\r\n            }\r\n\r\n            const formType = form.dataset.formType;\r\n            const formData = new FormData(form);\r\n            const messagesContainer = form.querySelector('.thlogin-messages');\r\n\r\n            if (messagesContainer) {\r\n                messagesContainer.innerHTML = '';\r\n                messagesContainer.style.display = 'none';\r\n            }\r\n\r\n            const requestData = {};\r\n            for (let [key, value] of formData.entries()) {\r\n                requestData[key] = value;\r\n            }\r\n\r\n            const endpoint = `${thLoginFrontendData.siteUrl}/wp-json/thlogin/v1/${formType}`;\r\n\r\n            try {\r\n                const submitButton = form.querySelector('button[type=\"submit\"]');\r\n                if (submitButton) {\r\n                    submitButton.disabled = true;\r\n                    submitButton.dataset.originalText = submitButton.innerHTML;\r\n                    submitButton.innerHTML = `<span class=\"thlogin-spinner\"></span> ${thLoginFrontendData.settings.design?.buttons?.primary?.text_saving || 'Processing...'}`;\r\n                }\r\n\r\n                const response = await fetch(endpoint, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'X-WP-Nonce': thLoginFrontendData.nonce,\r\n                    },\r\n                    body: JSON.stringify(requestData),\r\n                });\r\n\r\n                const data = await response.json();\r\n\r\n                if (data.success) {\r\n                    showMessage(form, data.data.message || 'Success!', 'success');\r\n\r\n                    if (data.data.redirect_url) {\r\n                        setTimeout(() => {\r\n                            window.location.href = data.data.redirect_url;\r\n                        }, 1000);\r\n                    } else if (formType === 'register' && generalSettings.auto_login_after_registration) {\r\n                        setTimeout(() => window.location.reload(), 1000);\r\n                    } else if (formType === 'forgot-password') {\r\n                        // Keep modal open so user can see success\r\n                    } else {\r\n                        if (form.closest('#thlogin-popup-modal')) {\r\n                            setTimeout(closeModal, 1000);\r\n                        }\r\n                    }\r\n                } else {\r\n                    showMessage(form, data.data.message || 'An error occurred. Please try again.', 'error');\r\n\r\n                    if (\r\n                        typeof grecaptcha !== 'undefined' &&\r\n                        thLoginFrontendData.settings.security?.recaptcha?.enabled &&\r\n                        thLoginFrontendData.settings.security.recaptcha.type === 'v2_checkbox'\r\n                    ) {\r\n                        grecaptcha.reset();\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                showMessage(form, 'An unexpected error occurred. Please check your network.', 'error');\r\n                console.error('Themehunk Login Registration: Frontend REST API Error:', error);\r\n\r\n                 if (\r\n                    typeof grecaptcha !== 'undefined' &&\r\n                    thLoginFrontendData.settings.security?.recaptcha?.enabled &&\r\n                    thLoginFrontendData.settings.security.recaptcha.type === 'v2_checkbox'\r\n                ) {\r\n                    grecaptcha.reset();\r\n                }\r\n\r\n            } finally {\r\n                const submitButton = form.querySelector('button[type=\"submit\"]');\r\n                if (submitButton) {\r\n                    submitButton.disabled = false;\r\n                    submitButton.innerHTML = submitButton.dataset.originalText || 'Submit';\r\n                }\r\n            }\r\n        });\r\n    });\r\n\r\n    const shouldTriggerByConditions = () => {\r\n        const conditions = displayTriggers.auto_open_conditions;\r\n        const currentPageId = thLoginFrontendData.currentPageId;\r\n        const currentPageSlug = thLoginFrontendData.currentPageSlug;\r\n    \r\n        // 1. Check specific pages (working correctly)\r\n        if (conditions.on_specific_pages?.enabled) {\r\n            const pageIds = conditions.on_specific_pages.page_ids || [];\r\n            const pageSlugs = conditions.on_specific_pages.page_slugs || [];\r\n            \r\n            if (pageIds.includes(Number(currentPageId))) {\r\n                return true;\r\n            }\r\n            \r\n            if (pageSlugs.includes(currentPageSlug)) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        // 2. Check categories - FIXED\r\n        if (conditions.on_specific_categories?.enabled) {\r\n            const catIds = conditions.on_specific_categories.category_ids || [];\r\n            const catSlugs = conditions.on_specific_categories.category_slugs || [];\r\n            \r\n            // Check category IDs\r\n            const currentCategoryIds = thLoginFrontendData.currentCategoryIds || [];\r\n            if (currentCategoryIds.some(id => catIds.includes(Number(id)))) {\r\n\r\n                return true;\r\n            }\r\n            \r\n            // Check category slugs\r\n            const currentCategorySlugs = thLoginFrontendData.currentCategorySlugs || [];\r\n            if (currentCategorySlugs.some(slug => catSlugs.includes(slug))) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        // 3. Check tags - FIXED\r\n        if (conditions.on_specific_tags?.enabled) {\r\n            const tagIds = conditions.on_specific_tags.tag_ids || [];\r\n            const tagSlugs = conditions.on_specific_tags.tag_slugs || [];\r\n            \r\n            // Check tag IDs\r\n            const currentTagIds = thLoginFrontendData.currentTagIds || [];\r\n            if (currentTagIds.some(id => tagIds.includes(Number(id)))) {\r\n                return true;\r\n            }\r\n            \r\n            // Check tag slugs\r\n            const currentTagSlugs = thLoginFrontendData.currentTagSlugs || [];\r\n            if (currentTagSlugs.some(slug => tagSlugs.includes(slug))) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    };\r\n\r\n    // --- Auto-Open Logic ---\r\n    const checkAndAutoOpenModal = () => {\r\n        if (!canAutoOpenModal()) return;\r\n\r\n        const urlParams = new URLSearchParams(window.location.search);\r\n        const wcAction = urlParams.get('thlogin_action');\r\n        const customParamName = displayTriggers.auto_open_conditions.url_parameter_trigger.param_name;\r\n        const customParamValue = displayTriggers.auto_open_conditions.url_parameter_trigger.param_value;\r\n        const customParamTriggered = urlParams.has(customParamName) && urlParams.get(customParamName) === customParamValue;\r\n\r\n        if (wcAction && ['login', 'register', 'forgot-password'].includes(wcAction)) {\r\n            openModal(wcAction);\r\n            return;\r\n        } else if (customParamTriggered) {\r\n            openModal('login');\r\n            return;\r\n        }\r\n\r\n        // if any page/category/tag conditions match\r\n        if (shouldTriggerByConditions()) {\r\n            openModal('login');\r\n            return;\r\n        }\r\n\r\n        if (displayTriggers.auto_open_on_load?.enabled) {\r\n            setTimeout(() => openModal('login'), (displayTriggers.auto_open_on_load.delay_seconds || 0) * 1000);\r\n            return;\r\n        }\r\n\r\n        if (displayTriggers.auto_open_on_scroll?.enabled) {\r\n            let triggered = false;\r\n            const onScroll = () => {\r\n                const scrollPercent = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;\r\n                if (!triggered && scrollPercent >= (displayTriggers.auto_open_on_scroll.scroll_percentage || 50)) {\r\n                    triggered = true;\r\n                    openModal('login');\r\n                    window.removeEventListener('scroll', onScroll);\r\n                }\r\n            };\r\n            window.addEventListener('scroll', onScroll);\r\n        }\r\n\r\n        if (displayTriggers.auto_open_on_exit_intent?.enabled) {\r\n            let triggered = false;\r\n            const onExitIntent = e => {\r\n                if (e.clientY < 50 && !triggered && !e.relatedTarget && !e.toElement) {\r\n                    triggered = true;\r\n                    openModal('login');\r\n                    document.removeEventListener('mouseout', onExitIntent);\r\n                }\r\n            };\r\n            document.addEventListener('mouseout', onExitIntent);\r\n        }\r\n\r\n        if (displayTriggers.auto_open_on_time_on_page?.enabled) {\r\n            setTimeout(() => openModal('login'), (displayTriggers.auto_open_on_time_on_page.time_seconds || 0) * 1000);\r\n        }\r\n\r\n        if (displayTriggers.auto_open_conditions.referrer_detection?.enabled) {\r\n            const referrers = displayTriggers.auto_open_conditions.referrer_detection.referrer_urls || [];\r\n            if (document.referrer && referrers.some(r => document.referrer.includes(r))) {\r\n                openModal('login');\r\n            }\r\n        }\r\n    };\r\n\r\n    checkAndAutoOpenModal();\r\n\r\n    // Show shortcode embedded forms by default (visible)\r\n    document.querySelectorAll('.thlogin-shortcode-form-wrapper .thlogin-form').forEach(f => {\r\n        f.style.display = 'block';\r\n        f.classList.add('thlogin-form--active');\r\n    });\r\n\r\n    // Force auto-open if shortcode was used on this page\r\n    const isShortcodeBasedModal = document.querySelector('.thlogin-shortcode-form-wrapper');\r\n    if (isShortcodeBasedModal && canShowModal()) {\r\n        openModal('login'); // You can dynamically read form type if needed\r\n    }\r\n\r\n});\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tconst menuSettings = thLoginFrontendData?.settings?.display_triggers?.menu_integration;\r\n\r\n\tif (!menuSettings?.enabled) return;\r\n\r\n\tconst isUserLoggedIn = thLoginFrontendData.isUserLoggedIn;\r\n\tconst logoutEnabled = menuSettings.logout !== false;\r\n\r\n\tconst loginText = menuSettings.item_text_login || __('Login', 'themehunk-login-registration');\r\n\tconst logoutText = menuSettings.item_text_logout || __('Logout', 'themehunk-login-registration');\r\n\r\n\r\n    const icons = thLoginFrontendData.icons || {};\r\n\r\n\t// SVG icons as HTML\r\n\tconst loginIcon = menuSettings.item_icon_login && icons[menuSettings.item_icon_login]\r\n\t\t? icons[menuSettings.item_icon_login]\r\n\t\t: '';\r\n\r\n\tconst logoutIcon = menuSettings.item_icon_logout && icons[menuSettings.item_icon_logout]\r\n\t\t? icons[menuSettings.item_icon_logout]\r\n\t\t: '';\r\n\r\n\tconst navigation = document.querySelector('.wp-block-navigation ul');\r\n\tif (!navigation) return;\r\n\r\n\t// Remove old button if already present (avoid duplicates)\r\n\tconst existing = navigation.querySelector('.thlogin-menu-item');\r\n\tif (existing) existing.remove();\r\n\r\n\tconst menuItem = document.createElement('li');\r\n\tmenuItem.className = 'wp-block-navigation-item thlogin-menu-item';\r\n\r\n\tif (isUserLoggedIn && logoutEnabled) {\r\n\t\tconst logoutUrl = thLoginFrontendData.logoutUrl;\r\n\t\tmenuItem.innerHTML = `<a href=\"${logoutUrl}\" class=\"th-login-menu-integration\">${logoutIcon}${logoutText}</a>`;\r\n\t} else if(! isUserLoggedIn) {\r\n\t\tmenuItem.innerHTML = `<a href=\"#\" class=\"thlogin-trigger\" data-th-popup-action=\"login\">${loginIcon}${loginText}</a>`;\r\n\t}\r\n\r\n\tnavigation.appendChild(menuItem);\r\n});"],"names":["e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_regeneratorDefine","enumerable","configurable","writable","_invoke","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","next","push","Array","isArray","_createForOfIteratorHelper","_n","F","s","_arrayLikeToArray","toString","slice","constructor","name","from","test","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","document","addEventListener","_thLoginFrontendData$","thLoginFrontendData","settings","security","recaptcha","enabled","recaptchaType","type","siteKey","site_key","script","createElement","src","concat","async","defer","head","appendChild","modal","getElementById","formContainer","querySelector","loginForm","registerForm","forgotPasswordForm","triggerSelector","display_triggers","trigger_css_class","displayTriggers","generalSettings","general","isUserLoggedIn","currentUserRoles","display_type","display_mode","animationEndHandler","setActiveForm","forEach","form","closest","dataset","formType","style","display","classList","add","remove","activeForm","showMessage","formElement","message","container","innerHTML","setTimeout","canAutoOpenModal","_displayTriggers$pop_","hasShortcode","auto_open_conditions","for_logged_out_only","specificRoles","for_specific_roles","some","role","includes","deviceVisibility","device_visibility","window","innerWidth","isMobile","isTablet","isDesktop","mobile","tablet","desktop","pop_up_frequency","lastShown","localStorage","getItem","now","Date","sessionStorage","daysPassed","parseInt","days","canManualOpenModal","recordPopupShown","_displayTriggers$pop_2","setItem","openModal","undefined","setAttribute","removeEventListener","closeModal","handler","contains","body","target","preventDefault","trigger","thPopupAction","actionType","key","getAttribute","querySelectorAll","_ref","_callee","_thLoginFrontendData$2","token","tokenField","_thLoginFrontendData$3","formData","messagesContainer","requestData","_iterator","_step","_step$value","endpoint","submitButton","_thLoginFrontendData$4","response","data","_thLoginFrontendData$5","_thLoginFrontendData$6","_submitButton","_t","_t2","_context","grecaptcha","execute","action","console","error","reset","FormData","entries","err","siteUrl","disabled","originalText","design","buttons","primary","text_saving","fetch","method","headers","nonce","JSON","stringify","json","success","redirect_url","location","href","auto_login_after_registration","reload","_x","shouldTriggerByConditions","_conditions$on_specif","_conditions$on_specif2","_conditions$on_specif3","conditions","currentPageId","currentPageSlug","on_specific_pages","pageIds","page_ids","pageSlugs","page_slugs","Number","on_specific_categories","catIds","category_ids","catSlugs","category_slugs","currentCategoryIds","id","currentCategorySlugs","slug","on_specific_tags","tagIds","tag_ids","tagSlugs","tag_slugs","currentTagIds","currentTagSlugs","checkAndAutoOpenModal","_displayTriggers$auto","_displayTriggers$auto2","_displayTriggers$auto3","_displayTriggers$auto4","_displayTriggers$auto5","urlParams","URLSearchParams","search","wcAction","get","customParamName","url_parameter_trigger","param_name","customParamValue","param_value","customParamTriggered","has","auto_open_on_load","delay_seconds","auto_open_on_scroll","triggered","onScroll","scrollPercent","scrollY","documentElement","scrollHeight","innerHeight","scroll_percentage","auto_open_on_exit_intent","onExitIntent","clientY","relatedTarget","toElement","auto_open_on_time_on_page","time_seconds","referrer_detection","referrers","referrer_urls","referrer","isShortcodeBasedModal","canShowModal","_thLoginFrontendData","menuSettings","menu_integration","logoutEnabled","logout","loginText","item_text_login","__","logoutText","item_text_logout","icons","loginIcon","item_icon_login","logoutIcon","item_icon_logout","navigation","existing","menuItem","className","logoutUrl"],"sourceRoot":""}